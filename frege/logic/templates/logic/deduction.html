{% extends "logic/question_base.html" %}
{% load staticfiles %}

{% block question_text %}נתון הטיעון:<p class="text-center formal" style="font-size: 160%; margin-top: -30px;color: rgb(24,24,24); font-style: normal;" dir="ltr">{{question.display}}</p>{% endblock %}
{% block question_instruction %}הוכחה בדדוקציה טבעית{% endblock %}

{% block question_content %}

  <div dir="ltr">
    <table id="deduction" class="" style="font-size: 110%;">
      <tbody>
        {% for premise in premises %}
        <tr>
          <td class="dd-num"><input type="checkbox" id="cb{{forloop.counter}}" name="{{forloop.counter}}" onclick="oncheck()">{{forloop.counter}}. </input></td>
          <td id="f{{forloop.counter}}">{{premise}}</td>
          <td class="dd-just">prem</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="page-header" style="margin-top: 5px; margin-bottom: 10px;">
    </div>
    <div class="noselect">
      <button class="btn btn-default dd-btn" id="imp-e">E ⊃</button>
      <button class="btn btn-default dd-btn" id="con-e">E ·</button>
      <button class="btn btn-default dd-btn" id="dis-e">E ∨</button>
      <button class="btn btn-default dd-btn" id="neg-e">E ~</button>
    </div>
    <div class="noselect">
      <button class="btn btn-default dd-btn" id="imp-i">I ⊃</button>
      <button class="btn btn-default dd-btn" id="con-i">I ·</button>
      <button class="btn btn-default dd-btn" id="dis-i">I ∨</button>
    </div>
    <div class="noselect">
      <button class="btn btn-default dd-btn" id="hyp">hyp</button>
    </div>
    <div class="noselect" id="extra" style="opacity: 0;">
      <input type="text" id="extxt" style="margin-top: 10px;" class="formal-txt" size="28" maxlength="30">
      <label for="extxt" style="margin-left: 10px;">נוסחה</label>
      <div>
        <input type="button" class="btn sym-btn" id="neg" value="~"/>
        <input type="button" class="btn sym-btn" id="con" value="·"/>
        <input type="button" class="btn sym-btn" id="dis" value="∨"/>
        <input type="button" class="btn sym-btn" id="imp" value="⊃"/>
        <input type="button" class="btn sym-btn" id="eqv" value="≡"/>
      </div>
    </div>
  </div>

  <script>
    $(document).ready(function() {
        $("#imp-e").click(function() {
            doApply($(this), impE, 2, symbolImpE);
        });
        $("#con-e").click(function() {
            doApply($(this), conE, 1, symbolConE);
        });
        $("#dis-e").click(function() {
            doApply($(this), disE, 3, symbolDisE);
        });
        $("#neg-e").click(function() {
            doApply($(this), negE, 1, symbolNegE);
        });
        $("#imp-i").click(function() {
            doApply($(this), impI, 0, symbolImpI);
        });
        $("#con-i").click(function() {
            doApply($(this), conI, 2, symbolConI);
        });
        $("#dis-i").click(function() {
            doApply($(this), disI, 1, symbolDisI, true);
        });
        $("#hyp").click(function() {
            doApply($(this), hyp, 0, symbolHyp, true);
        });
    });
    function is_empty() {
        if (!$('input[name=choice]:checked', '#choices').val())
            return 'לא נבחרה תשובה';
    }
    function get_post_data() {
        return {'choice':$('input[name=choice]:checked', '#choices').val()};
    }
    function on_success() {
        $('input[name=choice]:not(:checked)').attr('disabled','disabled');
    }
    function notify_incorrect(data){return true;}
    function on_response(data){}
  </script>
  <script src="{% static 'logic/js/deduction.js'%}"></script>
{% endblock question_content %} 
